I"<h2 id="tcp-overview">TCP Overview</h2>
<p>  네트워크 전송 시 외부 요인의 영향을 많이 받는 L1(물리 계층), L2(데이터링크 계층)에서 데이터 손실 및 오류가 자주 일어난다. 이러한 문제점을 해결하기 위해 제안된 것이 TCP(Transport Control Protocol)이다. TCP의 가장 중요한 기능은 어플리케이션에 신뢰성 있는 데이터를 전송하는 것이다.
<br />
  이는 시퀀스 넘버 이용한 손실 감지, 시퀀스 넘버와 Ack 넘버를 통한 손실 탐지, Checksum을 이용한 오류 탐지, 재전송 요청을 통한 오류 수정, 윈도우 사이즈 값을 이용한 흐름 제어를 통해 보장한다. 또한 통신선의 효율을 위해 너무 큰 Segment는 Segmentation 후 전송되어 수신 측에서 시퀀스 넘버를 이용하여 Reassemble(재조립)을 한다. 또한 TCP에서 정의한 포트를 통해 여러 어플리케이션에서 하나의 IP를 사용하여 서로 다른 시스템과 통신을 할 수 있게 한다. 이것이 TCP의 가장 핵심적인 기능이다.
<br /><br />
  이러한 기능은 TCP Payload 앞에 붙여지는 헤더에 의해 제어된다. 따라서 본 포스트에서는 TCP 헤더에 대해 조금 살펴보겠다.
<br /><br /></p>

<hr />

<h2 id="tcp-header-structure">TCP Header Structure</h2>
<figure style="text-align: center;">
  <img src="/assets/img/blog/blog-2.png" alt="Heartbeat Diagram" style="max-width: 100%; border-radius: 12px;" />
  <figcaption><br />출처: RFC 9293 - Transmission Control Protocol(TCP)</figcaption>
</figure>

<ul>
  <li>Source Port(16bit): 출발지 포트</li>
  <li>Destination Port(16bit): 목적지 포트</li>
  <li>Sequence Number(32bit): 시퀀스 번호</li>
  <li>Acknowledgement Number(32bit): 확인 응답 번호</li>
  <li>Data Offset(4bit): 데이터 오프셋</li>
  <li>Reserved(4bit): 향후 사용을 위해 예약된 Flags Bit 집합</li>
  <li>Flags(8bit): Control Bits</li>
  <li>Window(16bit): 윈도우 사이즈로 Unsigned 형</li>
  <li>Checksum(16bit): 체크섬</li>
  <li>Urgent Pointer(16bit): 긴급 포인터</li>
  <li>Options: Opt</li>
  <li>Data: Payload
<br /><br /></li>
</ul>

<hr />
:ET